<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì¡° ë°°ì • í”„ë¡œê·¸ë¨</title>
  <style>
    body { font-family: sans-serif; padding: 2em; }
    input, button { padding: 0.5em; margin-top: 1em; font-size: 1em; }
    #result, #summary { margin-top: 1em; font-size: 1.2em; font-weight: bold; }
    ul { padding-left: 1em; }
  </style>
</head>
<body>
  <h2>ğŸ² ì¡° ë°°ì • í”„ë¡œê·¸ë¨</h2>
  <p>ì´ë¦„ì„ ì…ë ¥í•˜ê³  ì¡°ë¥¼ í™•ì¸í•˜ì„¸ìš” (1~3ì¡°ëŠ” 4ëª…, 4ì¡°ëŠ” 3ëª…)</p>

  <input type="text" id="nameInput" placeholder="ì´ë¦„ ì…ë ¥" />
  <button onclick="assignGroup()">ì¡° í™•ì¸</button>

  <div id="result"></div>
  <div id="summary"></div>

  <script>
    const totalGroups = [1,1,1,1, 2,2,2,2, 3,3,3,3, 4,4,4];
    let shuffledGroups = totalGroups.sort(() => Math.random() - 0.5);
    const assigned = {};

    function assignGroup() {
      const name = document.getElementById("nameInput").value.trim();
      const resultDiv = document.getElementById("result");
      const summaryDiv = document.getElementById("summary");

      if (!name) {
        resultDiv.textContent = "âš ï¸ ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”.";
        return;
      }

      if (assigned[name]) {
        resultDiv.textContent = `âœ… ${name} ë‹˜ì€ ì´ë¯¸ ${assigned[name]}ì¡°ì— ë°°ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤.`;
      } else if (shuffledGroups.length === 0) {
        resultDiv.textContent = "âœ… ëª¨ë“  ì¡°ê°€ ë°°ì •ë˜ì—ˆìŠµë‹ˆë‹¤.";
      } else {
        const group = shuffledGroups.pop();
        assigned[name] = group;
        resultDiv.textContent = `âœ… ${name} ë‹˜ì€ ${group}ì¡°ì…ë‹ˆë‹¤!`;
      }

      // ìµœì¢… í˜„í™© ìš”ì•½
      const groupSummary = {};
      for (const [person, group] of Object.entries(assigned)) {
        if (!groupSummary[group]) groupSummary[group] = [];
        groupSummary[group].push(person);
      }

      let summaryHtml = '<h3>ğŸ“‹ í˜„ì¬ ì¡° ë°°ì • í˜„í™©</h3>';
      for (let i = 1; i <= 4; i++) {
        const members = groupSummary[i] || [];
        summaryHtml += `<p><strong>${i}ì¡° (${members.length}ëª…)</strong></p><ul>`;
        for (const member of members) {
          summaryHtml += `<li>${member}</li>`;
        }
        summaryHtml += '</ul>';
      }

      summaryDiv.innerHTML = summaryHtml;
    }
  </script>
</body>
</html>